(function(e){function t(t){for(var n,c,o=t[0],s=t[1],l=t[2],u=0,b=[];u<o.length;u++)c=o[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);d&&d(t);while(b.length)b.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/NodeThreader/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"06e4":function(e,t,r){},"0ba3":function(e,t,r){e.exports=r.p+"img/avatar.3051497e.jpg"},"17a2":function(e,t,r){},"32f1":function(e,t,r){"use strict";r("17a2")},"33b5":function(e,t,r){},5234:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("7a23");const a={class:"flex-wrapper"};function i(e,t,r,i,c,o){const s=Object(n["x"])("Nav"),l=Object(n["x"])("router-view"),d=Object(n["x"])("Footer");return Object(n["q"])(),Object(n["e"])("div",a,[Object(n["g"])(s),Object(n["g"])(l),Object(n["g"])(d)])}const c={class:"navbar is-primary",role:"navigation","aria-label":"main navigation"},o={class:"navbar-brand"},s=Object(n["f"])("div",{class:"navbar-item",style:{margin:"0px"}},[Object(n["f"])("div",{class:"logo-container"},[Object(n["f"])("b",null," NT ")])],-1);function l(e,t,r,a,i,l){const d=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["e"])("nav",c,[Object(n["f"])("div",o,[Object(n["g"])(d,{to:{name:"Home"}},{default:Object(n["D"])(()=>[s]),_:1})])])}var d={},u=(r("32f1"),r("6b0d")),b=r.n(u);const f=b()(d,[["render",l]]);var p=f;const h={class:"jfooter has-background-primary has-text-white"},O=Object(n["f"])("div",{class:"container"},[Object(n["f"])("p",{class:"is-size-5 has-text-weight-bold"},"What do people put here ? ðŸ™„")],-1),j=[O];function v(e,t,r,a,i,c){return Object(n["q"])(),Object(n["e"])("footer",h,j)}var m={};r("bced");const y=b()(m,[["render",v]]);var g=y,w={setup(){},components:{Nav:p,Footer:g}};r("b9dd");const _=b()(w,[["render",i]]);var x=_,T=r("6605");const k=e=>(Object(n["t"])("data-v-672b59dc"),e=e(),Object(n["r"])(),e),q={class:"home"},F={class:"container pb-6 mb-6"},P=k(()=>Object(n["f"])("h1",{class:"title title-main has-text-centered"},"Node Threader",-1)),S={class:"field-body"},z={class:"field has-addons"},M={class:"control is-expanded"},N=["disabled"],D={class:"control"},B=["disabled"],E=k(()=>Object(n["f"])("span",{class:"icon"},[Object(n["f"])("i",{class:"fas fa-paste"})],-1)),I=[E],H={class:"control"},A=k(()=>Object(n["f"])("b",null,"Threadify",-1)),L=[A];function V(e,t,r,a,i,c){const o=Object(n["x"])("Spinner");return Object(n["q"])(),Object(n["e"])("div",q,[Object(n["f"])("main",F,[P,Object(n["f"])("form",{class:"p-6",name:"form",onSubmit:t[2]||(t[2]=(...e)=>c.submitButtonPressed&&c.submitButtonPressed(...e))},[Object(n["f"])("div",S,[Object(n["f"])("div",z,[Object(n["f"])("p",M,[Object(n["E"])(Object(n["f"])("input",{id:"urlField",name:"urlField",class:"input is-primary is-large is-fullwidth",type:"text",placeholder:"Paste a Twitter url or a tweet ID","onUpdate:modelValue":t[0]||(t[0]=e=>i.urlField=e),disabled:i.fetching},null,8,N),[[n["B"],i.urlField]])]),Object(n["f"])("div",D,[Object(n["f"])("button",{type:"button",class:"button is-large is-primary is-outlined",onClick:t[1]||(t[1]=(...e)=>c.pasteButtonPressed&&c.pasteButtonPressed(...e)),disabled:i.fetching},I,8,B)])]),Object(n["f"])("div",H,[Object(n["f"])("button",{class:"button is-primary is-large is-fullwidth",style:Object(n["m"])({"pointer-events":i.fetching?"none":"auto"})},[Object(n["g"])(o,{hide:!i.fetching,position:"absolute"},null,8,["hide"]),Object(n["f"])("div",{style:Object(n["m"])({visibility:i.fetching?"hidden":"visible"})},L,4)],4)])]),Object(n["f"])("p",{class:"help is-danger is-size-5",style:Object(n["m"])({visibility:i.errorField?"visible":"hidden"})},Object(n["z"])(i.errorField||"wontshow"),5)],32)])])}r("14d9"),r("d9e2");const $="Debug"==Object({NODE_ENV:"production",BASE_URL:"/NodeThreader/"}).VUE_APP_MODE?"http://127.0.0.1:3000/api":"https://node-threader-server.onrender.com/api";async function U(e){const t=$+"/thread/fetch",r={urlField:e},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},a=await fetch(t,n),i=await a.json();return i}async function J(e){const t=`${$}/thread/show/${e}`,r=await fetch(t),n=await r.json();return n}function C(e){if(!e||""==e.trim())throw Error("Url field can't be empty")}function R(e,t,r,a,i,c){return Object(n["q"])(),Object(n["e"])("div",{style:Object(n["m"])(c.cssVars),class:"spinner"},null,4)}var W={props:{hide:{type:Boolean,default:!1},size:{type:Number,default:30},colorMain:{type:String,default:"#f3f3f3"},colorAccent:{type:String,default:"#00d1b2"},position:{type:String,default:"static"}},computed:{cssVars(){return{"--visibility":this.hide?"hidden":"visible","--size":this.size+"px","--colorMain":this.colorMain,"--colorAccent":this.colorAccent,"--position":this.position,"--animationPlayState":this.hide?"paused":"running"}}}};r("a805");const G=b()(W,[["render",R],["__scopeId","data-v-7df51aee"]]);var K=G;let Q={NoThreadForId:"The referenced tweet is not part of a thread"};var X={name:"Home",data(){return{urlField:"",errorField:"",fetching:!1}},setup(){},components:{Spinner:K},methods:{async pasteButtonPressed(){const e=await navigator.clipboard.readText();this.urlField=e},async submitButtonPressed(e){e.preventDefault(),this.errorField="",this.fetching=!0;try{C(this.urlField);let e=await U(this.urlField);if("ok"!==(null===e||void 0===e?void 0:e.status))throw console.log(e.error),Error(e.error);this.$router.push({name:"Thread",params:{threadId:e.conversation_id}})}catch(r){var t;console.error(r),this.errorField=null!==(t=Q[r.message])&&void 0!==t?t:r.message}this.fetching=!1}}};r("eecc");const Y=b()(X,[["render",V],["__scopeId","data-v-672b59dc"]]);var Z=Y;const ee=e=>(Object(n["t"])("data-v-03979d27"),e=e(),Object(n["r"])(),e),te={class:"content"},re={class:"container container-large-padding"},ne={key:0},ae={class:"section"},ie={class:"columns"},ce={class:"column is-one-quarter"},oe={class:"image is-128x128"},se=["src"],le={class:"column"},de={class:"rows"},ue={class:"row",style:{"font-size":"x-large"}},be={class:"row block"},fe={href:"https://twitter.com/i/user/<%= author.id %>",target:"_blank"},pe={class:"row block",style:{"text-align":"end"}},he=["innerHTML"],Oe={key:0,class:"columns is-multiline"},je={key:0,class:"image"},ve=["src"],me=["autoplay","loop","poster"],ye=["src"],ge=["innerHTML"],we=ee(()=>Object(n["f"])("hr",null,null,-1)),_e={key:1,class:"section"};function xe(e,t,a,i,c,o){const s=Object(n["x"])("Spinner");return Object(n["q"])(),Object(n["e"])("main",te,[Object(n["f"])("div",re,[c.loaded?(Object(n["q"])(),Object(n["e"])("div",ne,[Object(n["f"])("section",ae,[Object(n["f"])("div",ie,[Object(n["f"])("div",ce,[Object(n["f"])("figure",oe,[Object(n["f"])("img",{class:"is-rounded avatar-image",src:o.author.profile_image_url||r("0ba3")},null,8,se)])]),Object(n["f"])("div",le,[Object(n["f"])("div",de,[Object(n["f"])("div",ue,[Object(n["f"])("b",null,Object(n["z"])(o.author.name),1)]),Object(n["f"])("div",be,[Object(n["f"])("a",fe,[Object(n["f"])("b",null,"@ "+Object(n["z"])(o.author.username),1)])]),Object(n["f"])("div",pe,Object(n["z"])(o.thread.length)+" tweets | "+Object(n["z"])(o.created_at),1)])])])]),Object(n["f"])("section",null,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(o.thread,e=>{var t;return Object(n["q"])(),Object(n["e"])("div",{key:e.id,class:"block tweet"},[Object(n["f"])("div",{class:"tweet-text is-size-4",innerHTML:e.text,dir:"auto"},null,8,he),(null===(t=e.media)||void 0===t?void 0:t.length)>0?(Object(n["q"])(),Object(n["e"])("div",Oe,[(Object(n["q"])(!0),Object(n["e"])(n["a"],null,Object(n["w"])(e.media,e=>(Object(n["q"])(),Object(n["e"])("div",{key:e.url,class:"column"},["photo"===e.type?(Object(n["q"])(),Object(n["e"])("figure",je,[Object(n["f"])("img",{src:e.url},null,8,ve)])):"animated_gif"==e.type||"video"==e.type?(Object(n["q"])(),Object(n["e"])("video",{key:1,class:"is-size-12",autoplay:"animated_gif"===e.type,loop:"animated_gif"===e.type,controls:"",muted:"",poster:e.preview_image_url},[Object(n["f"])("source",{src:e.variants[0].url,type:"video/mp4"},null,8,ye)],8,me)):Object(n["d"])("",!0)]))),128))])):Object(n["d"])("",!0),e.quotedhtml?(Object(n["q"])(),Object(n["e"])("div",{key:1,class:"column",innerHTML:e.quotedhtml},null,8,ge)):Object(n["d"])("",!0)])}),128))]),we])):(Object(n["q"])(),Object(n["e"])("section",_e,[Object(n["g"])(s,{size:100})]))])])}var Te={name:"Thread",props:["threadId"],data(){return{threadData:null,loaded:!1}},setup(){},computed:{author(){var e;return null===(e=this.threadData)||void 0===e?void 0:e.author},thread(){var e;return null===(e=this.threadData)||void 0===e?void 0:e.thread},created_at(){var e;return null===(e=this.threadData)||void 0===e?void 0:e.created_at}},components:{Spinner:K},async mounted(){if(!this.threadData)try{let e=await J(this.threadId);if("ok"!==(null===e||void 0===e?void 0:e.status))throw Error(e.error);this.threadData=e.data}catch(e){console.error(e),this.$router.push({name:"NotFound"})}this.loaded=!0,this.$nextTick((function(){twttr.widgets.load()}))}};r("82e4");const ke=b()(Te,[["render",xe],["__scopeId","data-v-03979d27"]]);var qe=ke;r("8998");const Fe=[{path:"/",name:"Home",component:Z},{path:"/thread/:threadId",name:"Thread",props:!0,component:qe},{path:"/:pathMatch(.*)*",redirect:"/"}],Pe=Object(T["a"])({history:Object(T["b"])("/NodeThreader/"),routes:Fe});var Se=Pe;Object(n["c"])(x).use(Se).mount("#app")},6002:function(e,t,r){},"82e4":function(e,t,r){"use strict";r("6002")},8998:function(e,t,r){"use strict";r("c9ab")},a805:function(e,t,r){"use strict";r("06e4")},b9dd:function(e,t,r){"use strict";r("f925")},bced:function(e,t,r){"use strict";r("5234")},c9ab:function(e,t,r){},eecc:function(e,t,r){"use strict";r("33b5")},f925:function(e,t,r){}});
//# sourceMappingURL=app.b3aaf1c2.js.map